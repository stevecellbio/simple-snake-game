import javax.swing.*;import java.awt.*;import java.awt.event.*;public class Main extends JFrame{public Main(){B();}private void B(){add(new C());setResizable(false);pack();setTitle("SG");setLocationRelativeTo(null);setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);}public static void main(String[] args){EventQueue.invokeLater(()->{JFrame f=new Main();f.setVisible(true);});}}class C extends JPanel implements ActionListener{private final int D=300,E=300,F=10,G=900,H=29,I=140;private final int[] J=new int[G],K=new int[G];private int L,M,N;private boolean O=false,P=true,Q=false,R=false,S=true;private Timer T;public C(){U();}private void U(){addKeyListener(new V());setBackground(Color.black);setFocusable(true);setPreferredSize(new Dimension(D,E));W();}private void W(){L=3;for(int i=0;i<L;i++){J[i]=50-i*10;K[i]=50;}X();T=new Timer(I,this);T.start();}private void X(){int i=(int)(Math.random()*H);M=(i*F);i=(int)(Math.random()*H);N=(i*F);}@Override public void paintComponent(Graphics g){super.paintComponent(g);if(S){g.setColor(Color.red);g.fillOval(M,N,F,F);for(int i=0;i<L;i++){if(i==0){g.setColor(Color.green);}else{g.setColor(Color.green);}g.fillRect(J[i],K[i],F,F);}Toolkit.getDefaultToolkit().sync();}else{Y(g);}}private void Y(Graphics g){String z="GameOver";Font a=new Font("Helvetica",Font.BOLD,14);FontMetrics b=getFontMetrics(a);g.setColor(Color.white);g.setFont(a);g.drawString(z,(D-b.stringWidth(z))/2,E/2);}private void Z(){if((J[0]==M)&&(K[0]==N)){L++;X();}}private void AA(){for(int i=L;i>0;i--){J[i]=J[i-1];K[i]=K[i-1];}if(O){J[0]-=F;}if(P){J[0]+=F;}if(Q){K[0]-=F;}if(R){K[0]+=F;}}private void AB(){for(int i=L;i>0;i--){if((i>4)&&(J[0]==J[i])&&(K[0]==K[i])){S=false;}}if(K[0]>=E){S=false;}if(K[0]<0){S=false;}if(J[0]>=D){S=false;}if(J[0]<0){S=false;}if(!S){T.stop();}}@Override public void actionPerformed(ActionEvent e){if(S){Z();AB();AA();}repaint();}private class V extends KeyAdapter{@Override public void keyPressed(KeyEvent e){int i=e.getKeyCode();if((i==KeyEvent.VK_LEFT)&&(!P)){O=true;Q=false;R=false;}if((i==KeyEvent.VK_RIGHT)&&(!O)){P=true;Q=false;R=false;}if((i==KeyEvent.VK_UP)&&(!R)){Q=true;P=false;O=false;}if((i==KeyEvent.VK_DOWN)&&(!Q)){R=true;P=false;O=false;}}}}
